(this["webpackJsonpdiscord-clone"]=this["webpackJsonpdiscord-clone"]||[]).push([[4],{196:function(e,t,c){},201:function(e,t,c){},202:function(e,t,c){},203:function(e,t,c){},204:function(e,t,c){},205:function(e){e.exports=JSON.parse('[{"emoji":"\ud83d\ude00","tags":["smile","happy"]},{"emoji":"\ud83d\ude03","tags":["happy","joy","haha"]},{"emoji":"\ud83d\ude04","tags":["happy","joy","laugh","pleased"]},{"emoji":"\ud83d\ude01","tags":[]},{"emoji":"\ud83d\ude06","tags":["happy","haha"]},{"emoji":"\ud83d\ude05","tags":["hot"]},{"emoji":"\ud83e\udd23","tags":["lol","laughing"]},{"emoji":"\ud83d\ude02","tags":["tears"]},{"emoji":"\ud83d\ude42","tags":[]},{"emoji":"\ud83d\ude43","tags":[]},{"emoji":"\ud83d\ude09","tags":["flirt"]},{"emoji":"\ud83d\ude0a","tags":["proud"]},{"emoji":"\ud83d\ude07","tags":["angel"]},{"emoji":"\ud83e\udd70","tags":["love"]},{"emoji":"\ud83d\ude0d","tags":["love","crush"]},{"emoji":"\ud83e\udd29","tags":["eyes"]},{"emoji":"\ud83d\ude18","tags":["flirt"]},{"emoji":"\ud83d\ude17","tags":[]},{"emoji":"\ud83d\ude1a","tags":[]},{"emoji":"\ud83d\ude19","tags":[]},{"emoji":"\ud83d\ude0b","tags":["tongue","lick"]},{"emoji":"\ud83d\ude1b","tags":[]},{"emoji":"\ud83d\ude1c","tags":["prank","silly"]},{"emoji":"\ud83e\udd2a","tags":["goofy","wacky"]},{"emoji":"\ud83d\ude1d","tags":["prank"]},{"emoji":"\ud83e\udd11","tags":["rich"]},{"emoji":"\ud83e\udd17","tags":[]},{"emoji":"\ud83e\udd2d","tags":["quiet","whoops"]},{"emoji":"\ud83e\udd2b","tags":["silence","quiet"]},{"emoji":"\ud83e\udd14","tags":[]},{"emoji":"\ud83e\udd10","tags":["silence","hush"]},{"emoji":"\ud83e\udd28","tags":["suspicious"]},{"emoji":"\ud83d\ude10","tags":["meh"]},{"emoji":"\ud83d\ude11","tags":[]},{"emoji":"\ud83d\ude36","tags":["mute","silence"]},{"emoji":"\ud83d\ude0f","tags":["smug"]},{"emoji":"\ud83d\ude12","tags":["meh"]},{"emoji":"\ud83d\ude44","tags":[]},{"emoji":"\ud83d\ude2c","tags":[]},{"emoji":"\ud83e\udd25","tags":["liar"]},{"emoji":"\ud83d\ude0c","tags":["whew"]},{"emoji":"\ud83d\ude14","tags":[]},{"emoji":"\ud83d\ude2a","tags":["tired"]},{"emoji":"\ud83e\udd24","tags":[]},{"emoji":"\ud83d\ude34","tags":["zzz"]},{"emoji":"\ud83d\ude37","tags":["sick","ill"]},{"emoji":"\ud83e\udd12","tags":["sick"]},{"emoji":"\ud83e\udd15","tags":["hurt"]},{"emoji":"\ud83e\udd22","tags":["sick","barf","disgusted"]},{"emoji":"\ud83e\udd2e","tags":["barf","sick"]},{"emoji":"\ud83e\udd27","tags":["achoo","sick"]},{"emoji":"\ud83e\udd75","tags":["heat","sweating"]},{"emoji":"\ud83e\udd76","tags":["freezing","ice"]},{"emoji":"\ud83e\udd74","tags":["groggy"]},{"emoji":"\ud83d\ude35","tags":[]},{"emoji":"\ud83e\udd2f","tags":["mind","blown"]},{"emoji":"\ud83e\udd20","tags":[]},{"emoji":"\ud83e\udd73","tags":["celebration","birthday"]},{"emoji":"\ud83d\ude0e","tags":["cool"]},{"emoji":"\ud83e\udd13","tags":["geek","glasses"]},{"emoji":"\ud83e\uddd0","tags":[]},{"emoji":"\ud83d\ude15","tags":[]},{"emoji":"\ud83d\ude1f","tags":["nervous"]},{"emoji":"\ud83d\ude41","tags":[]},{"emoji":"\u2639\ufe0f","tags":[]},{"emoji":"\ud83d\ude2e","tags":["surprise","impressed","wow"]},{"emoji":"\ud83d\ude2f","tags":["silence","speechless"]},{"emoji":"\ud83d\ude32","tags":["amazed","gasp"]},{"emoji":"\ud83d\ude33","tags":[]},{"emoji":"\ud83e\udd7a","tags":["puppy","eyes"]},{"emoji":"\ud83d\ude26","tags":[]},{"emoji":"\ud83d\ude27","tags":["stunned"]},{"emoji":"\ud83d\ude28","tags":["scared","shocked","oops"]},{"emoji":"\ud83d\ude30","tags":["nervous"]},{"emoji":"\ud83d\ude25","tags":["phew","sweat","nervous"]},{"emoji":"\ud83d\ude22","tags":["sad","tear"]},{"emoji":"\ud83d\ude2d","tags":["sad","cry","bawling"]},{"emoji":"\ud83d\ude31","tags":["horror","shocked"]},{"emoji":"\ud83d\ude16","tags":[]},{"emoji":"\ud83d\ude23","tags":["struggling"]},{"emoji":"\ud83d\ude1e","tags":["sad"]},{"emoji":"\ud83d\ude13","tags":[]},{"emoji":"\ud83d\ude29","tags":["tired"]},{"emoji":"\ud83d\ude2b","tags":["upset","whine"]},{"emoji":"\ud83e\udd71","tags":[]},{"emoji":"\ud83d\ude24","tags":["smug"]},{"emoji":"\ud83d\ude21","tags":["angry"]},{"emoji":"\ud83d\ude20","tags":["mad","annoyed"]},{"emoji":"\ud83e\udd2c","tags":["foul"]},{"emoji":"\ud83d\ude08","tags":["devil","evil","horns"]},{"emoji":"\ud83d\udc7f","tags":["angry","devil","evil","horns"]},{"emoji":"\ud83d\udc80","tags":["dead","danger","poison"]},{"emoji":"\u2620\ufe0f","tags":["danger","pirate"]},{"emoji":"\ud83d\udca9","tags":["crap"]},{"emoji":"\ud83e\udd21","tags":[]},{"emoji":"\ud83d\udc79","tags":["monster"]},{"emoji":"\ud83d\udc7a","tags":[]},{"emoji":"\ud83d\udc7b","tags":["halloween"]},{"emoji":"\ud83d\udc7d","tags":["ufo"]},{"emoji":"\ud83d\udc7e","tags":["game","retro"]},{"emoji":"\ud83e\udd16","tags":[]},{"emoji":"\ud83d\ude3a","tags":[]},{"emoji":"\ud83d\ude38","tags":[]},{"emoji":"\ud83d\ude39","tags":[]},{"emoji":"\ud83d\ude3b","tags":[]},{"emoji":"\ud83d\ude3c","tags":[]},{"emoji":"\ud83d\ude3d","tags":[]},{"emoji":"\ud83d\ude40","tags":["horror"]},{"emoji":"\ud83d\ude3f","tags":["sad","tear"]},{"emoji":"\ud83d\ude3e","tags":[]},{"emoji":"\ud83d\ude48","tags":["monkey","blind","ignore"]},{"emoji":"\ud83d\ude49","tags":["monkey","deaf"]},{"emoji":"\ud83d\ude4a","tags":["monkey","mute","hush"]},{"emoji":"\ud83d\udc8b","tags":["lipstick"]},{"emoji":"\ud83d\udc8c","tags":["email","envelope"]},{"emoji":"\ud83d\udc98","tags":["love","heart"]},{"emoji":"\ud83d\udc9d","tags":["chocolates"]},{"emoji":"\ud83d\udc96","tags":[]},{"emoji":"\ud83d\udc97","tags":[]},{"emoji":"\ud83d\udc93","tags":[]},{"emoji":"\ud83d\udc9e","tags":[]},{"emoji":"\ud83d\udc95","tags":[]},{"emoji":"\ud83d\udc9f","tags":[]},{"emoji":"\u2763\ufe0f","tags":[]},{"emoji":"\ud83d\udc94","tags":[]},{"emoji":"\u2764\ufe0f","tags":["love"]},{"emoji":"\ud83e\udde1","tags":[]},{"emoji":"\ud83d\udc9b","tags":[]},{"emoji":"\ud83d\udc9a","tags":[]},{"emoji":"\ud83d\udc99","tags":[]},{"emoji":"\ud83d\udc9c","tags":[]},{"emoji":"\ud83e\udd0e","tags":[]},{"emoji":"\ud83d\udda4","tags":[]},{"emoji":"\ud83e\udd0d","tags":[]},{"emoji":"\ud83d\udcaf","tags":["score","perfect"]},{"emoji":"\ud83d\udca2","tags":["angry"]},{"emoji":"\ud83d\udca5","tags":["explode"]},{"emoji":"\ud83d\udcab","tags":["star"]},{"emoji":"\ud83d\udca6","tags":["water","workout"]},{"emoji":"\ud83d\udca8","tags":["wind","blow","fast"]},{"emoji":"\ud83d\udd73\ufe0f","tags":[]},{"emoji":"\ud83d\udca3","tags":["boom"]},{"emoji":"\ud83d\udcac","tags":["comment"]},{"emoji":"\ud83d\udc41\ufe0f\u200d\ud83d\udde8\ufe0f","tags":[]},{"emoji":"\ud83d\udde8\ufe0f","tags":[]},{"emoji":"\ud83d\uddef\ufe0f","tags":[]},{"emoji":"\ud83d\udcad","tags":["thinking"]},{"emoji":"\ud83d\udca4","tags":["sleeping"]},{"emoji":"\ud83d\udc4b","tags":["goodbye"]},{"emoji":"\ud83e\udd1a","tags":[]},{"emoji":"\ud83d\udd90\ufe0f","tags":[]},{"emoji":"\u270b","tags":["highfive","stop"]},{"emoji":"\ud83d\udd96","tags":["prosper","spock"]},{"emoji":"\ud83d\udc4c","tags":[]},{"emoji":"\ud83e\udd0c","tags":[]},{"emoji":"\ud83e\udd0f","tags":[]},{"emoji":"\u270c\ufe0f","tags":["victory","peace"]},{"emoji":"\ud83e\udd1e","tags":["luck","hopeful"]},{"emoji":"\ud83e\udd1f","tags":[]},{"emoji":"\ud83e\udd18","tags":[]},{"emoji":"\ud83e\udd19","tags":[]},{"emoji":"\ud83d\udc48","tags":[]},{"emoji":"\ud83d\udc49","tags":[]},{"emoji":"\ud83d\udc46","tags":[]},{"emoji":"\ud83d\udd95","tags":[]},{"emoji":"\ud83d\udc47","tags":[]},{"emoji":"\u261d\ufe0f","tags":[]},{"emoji":"\ud83d\udc4d","tags":["approve","ok"]},{"emoji":"\ud83d\udc4e","tags":["disapprove","bury"]},{"emoji":"\u270a","tags":["power"]},{"emoji":"\ud83d\udc4a","tags":["attack"]},{"emoji":"\ud83e\udd1b","tags":[]},{"emoji":"\ud83e\udd1c","tags":[]},{"emoji":"\ud83d\udc4f","tags":["praise","applause"]},{"emoji":"\ud83d\ude4c","tags":["hooray"]},{"emoji":"\ud83d\udc50","tags":[]},{"emoji":"\ud83e\udd32","tags":[]},{"emoji":"\ud83e\udd1d","tags":["deal"]},{"emoji":"\ud83d\ude4f","tags":["please","hope","wish"]},{"emoji":"\u270d\ufe0f","tags":[]},{"emoji":"\ud83d\udc85","tags":["beauty","manicure"]}]')},207:function(e,t,c){},208:function(e,t,c){},218:function(e,t,c){},250:function(e,t,c){},255:function(e,t,c){},260:function(e,t,c){},261:function(e,t,c){},262:function(e,t,c){},263:function(e,t,c){"use strict";c.r(t);var a,s,r=c(21),n=c(7),i=c.n(n),o=c(0),l=c.n(o),d=c(28),j=c(19),m=c(63),u=c(12),b=(c(201),c(18)),h=c(49),g=c(50),O=c(3),v=g.a.div(a||(a=Object(h.a)(["\n    background: ",";\n    border-radius: 50%;\n    width: 2.5rem;\n    height: 2.5rem;\n"])),(function(e){return e.color})),p=function(e){var t=e.k,c=e.rol;return Object(O.jsx)("div",{className:"allrolescolor",children:c&&c[t].color&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(v,{className:"allrolescolor__rolevalue",color:c[t].color}),Object(O.jsx)("div",{className:"allrolescolor__rolename",children:Object(O.jsxs)("p",{children:[": ",Object(O.jsx)("span",{className:"allrolescolor__rolename-span",children:t})]})})]})})},x=g.a.div(s||(s=Object(h.a)(["\n    background: ",";\n    border-radius: 50%;\n    width: 1.75rem;\n    height: 1.75rem;\n"])),(function(e){return e.color})),f=function(e){var t=e.rol,c=e.k,a=e.handleClick,s=e.roleheadid;return Object(O.jsx)("div",{onClick:function(){return a({photoURL:u.c.currentUser.photoURL,email:u.c.currentUser.email,id:t.id,rolename:c,number:t[c].number,color:t[c].color,name:u.c.currentUser.displayName,serverroletypeid:s,serverroleid:t[c].serverroleid})},children:t&&t[c].number&&Object(O.jsxs)("div",{className:"allroles",children:[Object(O.jsx)("div",{className:"allroles__button",children:Object(O.jsx)(x,{className:"allrolescolor__rolevalue",color:t[c].color})}),Object(O.jsx)("div",{className:"allroles__number",children:t[c].number})]})})},_=c(17),N=c(178),y=c(276),k=Object(N.a)((function(e){return{avatar:{width:e.spacing(4.5),height:e.spacing(4.5)}}})),w=function(e){var t=e.role,c=k(),a=Object(d.c)((function(e){return e.currentserver.id})),s=u.e.collection("roles").doc(a).collection("rolemenu").doc(t.id).collection("allroles"),n=Object(m.a)(s,{idField:"id"}),l=Object(j.a)(n,1)[0],h=Object(o.useState)(0),g=Object(j.a)(h,2),v=g[0],x=g[1],N=function(){var e=Object(r.a)(i.a.mark((function e(c){var r,n,o,l,d,j,m,h,g,O,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x(v+1),!(v>0)){e.next=3;break}return e.abrupt("return");case 3:return r=u.e.collection("users").doc(u.c.currentUser.uid),n=c.rolename,o=c.id,l=c.email,d=c.photoURL,j=c.name,m=c.serverroleid,h=c.serverroletypeid,g=c.color,e.next=7,r.get();case 7:return O=e.sent.data(),e.next=10,r.get();case 10:if(p=e.sent,!O||!O.roles){e.next=23;break}if(!O.roles[a]||!O.roles[a][t.rolename]){e.next=16;break}return e.abrupt("return");case 16:return console.log("not present"),e.next=19,r.set({roles:Object(b.a)({},a,Object(b.a)({},t.rolename,{yourrole:n,color:g}))},{merge:!0});case 19:u.e.collection("servers").doc(a).collection("allroles").doc(h).collection("allroles").doc(m).collection("allusers").doc(p.id).set({username:j,photoURL:d,email:l,createdAt:_.a.firestore.FieldValue.serverTimestamp()}),s.doc(o).update(Object(b.a)({},"".concat(n,".number"),_.a.firestore.FieldValue.increment(1)));case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"rolesdocument__main-individual",children:[Object(O.jsx)("div",{className:"rolesdocument__header-photo",children:Object(O.jsx)(y.a,{className:c.avatar,src:"/discord-clone/bot.png"})}),Object(O.jsxs)("div",{className:"rolesdocument__content",children:[Object(O.jsxs)("div",{className:"rolesdocument__content-header",children:[Object(O.jsx)("div",{className:"rolesdocument__content-name",children:"Discord Bot"}),Object(O.jsx)("div",{className:"rolesdocument__content-date",children:"".concat(t.createdAt&&t.createdAt.toDate().getDate()+"/"+(t.createdAt.toDate().getMonth()+1)+"/"+t.createdAt.toDate().getFullYear())})]}),Object(O.jsxs)("div",{className:"rolesdocument__message",children:[Object(O.jsx)("div",{className:"rolesdocument__message-rolemenu",children:Object(O.jsxs)("p",{children:["Role Menu: ",t.rolename]})}),Object(O.jsx)("div",{className:"rolesdocument__message-react",children:"React to give yourself a role."}),Object(O.jsx)("div",{className:"rolesdocument__message-allroles",children:l&&l.map((function(e,t){var c=Object.keys(e);return Object(O.jsx)("div",{children:c.map((function(t,c){return Object(O.jsx)(p,{rol:e,k:t},c)}))},t)}))}),Object(O.jsx)("div",{className:"rolesdocument__message-rolebuttons",children:l&&l.map((function(e){return Object.keys(e).map((function(c,a){return Object(O.jsx)(f,{rol:e,k:c,handleClick:N,roleheading:t.rolename,roleheadid:t.serverroletypeid},a)}))}))})]})]})]})},C=function(e){var t=e.roleid,c=u.e.collection("roles").doc(t).collection("rolemenu").orderBy("createdAt").limit(10),a=Object(m.a)(c,{idField:"id"}),s=Object(j.a)(a,1)[0];return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"rolesdocument",children:Object(O.jsx)("div",{className:"rolesdocument__main",children:s&&s.map((function(e){return Object(O.jsx)(w,{role:e},e.id)}))})})})},L=function(){var e=Object(d.c)((function(e){return e.currentserver.id})),t=u.e.collection("servers").doc(e),c=Object(m.b)(t),a=Object(j.a)(c,1)[0];return Object(O.jsx)(O.Fragment,{children:a&&u.c.currentUser&&Object(O.jsx)(C,{roleid:e})})},U=(c(202),function(e){return{type:"Current_message",payload:e}}),S=function(){return{type:"Clicked"}},F=function(e){return{type:"Reply_message",payload:e}},R=function(){return{type:"Reply_toggle"}},V=(c(203),c(204),c(205)),z=c(206),M=c.n(z),A=function(){var e=Object(o.useState)(""),t=Object(j.a)(e,2),c=t[0],a=t[1],s=Object(o.useState)([]),r=Object(j.a)(s,2),n=r[0],i=r[1];return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"emojicontainer",children:[console.log(n),Object(O.jsxs)("div",{className:"emojicontainer__header",children:[Object(O.jsxs)("div",{className:"emojicontainer__header-inputdiv",children:[Object(O.jsx)("form",{onSubmit:function(e){i([]),e.preventDefault();var t=[];V.map((function(e){return e.tags.map((function(a){a===c&&t.push(e)}))})),i(t),a("")},className:"emojicontainer__header-form",children:Object(O.jsx)("input",{type:"text",onChange:function(e){a(e.target.value)},value:c,autoFocus:!0,placeholder:"find the perfect emoji",className:"emojicontainer__header-input"})}),Object(O.jsx)("div",{className:"emojicontainer__header-search",children:Object(O.jsx)(M.a,{style:{fontSize:"2rem",color:"#72767d"}})})]}),Object(O.jsx)("div",{className:"emojicontainer__header-handicon",children:"\ud83d\udc4f"})]}),Object(O.jsxs)("div",{className:"emojicontainer__body",children:[Object(O.jsx)("div",{className:"emojicontainer__sidebar",children:Object(O.jsxs)("div",{className:"emojicontainer__sidebar-items",children:[Object(O.jsx)("div",{className:"emojicontainer__sidebar-item",children:"\ud83d\ude03"}),Object(O.jsx)("div",{className:"emojicontainer__sidebar-item",children:"\ud83d\ude2c"}),Object(O.jsx)("div",{className:"emojicontainer__sidebar-item",children:"\ud83e\udd2a"})]})}),Object(O.jsxs)("div",{className:"emojicontainer__content",children:[Object(O.jsx)("div",{className:"emojicontainer__content-header",children:"IN DEVELOPMENT"}),Object(O.jsxs)("div",{className:"emojicontainer__content-items",children:[n.length?n.map((function(e,t){return Object(O.jsx)("div",{className:"emojicontainer__content-item",children:e.emoji},t)})):V&&V.map((function(e,t){return Object(O.jsx)("div",{className:"emojicontainer__content-item",children:e.emoji},t)})),V&&V.map((function(e,t){return Object(O.jsx)("div",{className:"emojicontainer__content-item",children:e.emoji},t)}))]})]})]})]})})};var Z=function(e){var t=e.msg,c=Object(d.b)(),a=Object(d.c)((function(e){return e.doc.id})),s=Object(d.c)((function(e){return e.currentserver.id})),r=Object(o.useState)(!1),n=Object(j.a)(r,2),i=n[0],l=n[1],m=Object(o.useState)(!1),b=Object(j.a)(m,2),h=b[0],g=b[1],v=Object(o.useState)(!1),p=Object(j.a)(v,2),x=p[0],f=p[1],_=function(){c(U({id:t.id,msg:t.message})),c(S())},N=function(){document.getElementById("myTextField").focus(),c(F({id:t.id,sender:t.sendername,msg:t.message,photo:t.senderphoto})),c(R())};return Object(O.jsxs)("div",{className:"chatmenu",children:[x&&Object(O.jsx)("div",{className:"emojcontain",children:Object(O.jsx)(A,{})}),Object(O.jsx)("div",{className:"chatmenu__addreaction",onClick:function(){f(!x)},children:Object(O.jsxs)("svg",{className:"chatmenu__image","aria-hidden":"false",width:"24",height:"24",viewBox:"0 0 24 24",children:[Object(O.jsx)("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M12.2512 2.00309C12.1677 2.00104 12.084 2 12 2C6.477 2 2 6.477 2 12C2 17.522 6.477 22 12 22C17.523 22 22 17.522 22 12C22 11.916 21.999 11.8323 21.9969 11.7488C21.3586 11.9128 20.6895 12 20 12C15.5817 12 12 8.41828 12 4C12 3.31052 12.0872 2.6414 12.2512 2.00309ZM10 8C10 6.896 9.104 6 8 6C6.896 6 6 6.896 6 8C6 9.105 6.896 10 8 10C9.104 10 10 9.105 10 8ZM12 19C15.14 19 18 16.617 18 14V13H6V14C6 16.617 8.86 19 12 19Z"}),Object(O.jsx)("path",{d:"M21 3V0H19V3H16V5H19V8H21V5H24V3H21Z",fill:"currentColor"})]})}),u.c.currentUser.email===t.senderemail?Object(O.jsx)("div",{className:"chatmenu__edit",onClick:_,children:Object(O.jsx)("svg",{className:"chatmenu__image","aria-hidden":"false",width:"16",height:"16",viewBox:"0 0 24 24",children:Object(O.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.2929 9.8299L19.9409 9.18278C21.353 7.77064 21.353 5.47197 19.9409 4.05892C18.5287 2.64678 16.2292 2.64678 14.817 4.05892L14.1699 4.70694L19.2929 9.8299ZM12.8962 5.97688L5.18469 13.6906L10.3085 18.813L18.0201 11.0992L12.8962 5.97688ZM4.11851 20.9704L8.75906 19.8112L4.18692 15.239L3.02678 19.8796C2.95028 20.1856 3.04028 20.5105 3.26349 20.7337C3.48669 20.9569 3.8116 21.046 4.11851 20.9704Z",fill:"currentColor"})})}):Object(O.jsx)("div",{className:"chatmenu__reply",onClick:N,children:Object(O.jsx)("svg",{className:"chatmenu__image",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(O.jsx)("path",{d:"M10 8.26667V4L3 11.4667L10 18.9333V14.56C15 14.56 18.5 16.2667 21 20C20 14.6667 17 9.33333 10 8.26667Z",fill:"currentColor"})})}),Object(O.jsx)("div",{className:"chatmenu__more",onClick:function(){console.log("called"),u.c.currentUser.email===t.senderemail?g(!h):l(!i)},children:Object(O.jsx)("svg",{className:"chatmenu__image","aria-hidden":"false",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(O.jsx)("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M7 12.001C7 10.8964 6.10457 10.001 5 10.001C3.89543 10.001 3 10.8964 3 12.001C3 13.1055 3.89543 14.001 5 14.001C6.10457 14.001 7 13.1055 7 12.001ZM14 12.001C14 10.8964 13.1046 10.001 12 10.001C10.8954 10.001 10 10.8964 10 12.001C10 13.1055 10.8954 14.001 12 14.001C13.1046 14.001 14 13.1055 14 12.001ZM19 10.001C20.1046 10.001 21 10.8964 21 12.001C21 13.1055 20.1046 14.001 19 14.001C17.8954 14.001 17 13.1055 17 12.001C17 10.8964 17.8954 10.001 19 10.001Z"})})}),h&&Object(O.jsx)("div",{className:"morebox",children:Object(O.jsxs)("div",{className:"morebox__container",children:[Object(O.jsxs)("div",{className:"morebox__item",onClick:_,children:[Object(O.jsx)("div",{className:"morebox__item-label",children:"Edit message"}),Object(O.jsx)("div",{className:"morebox__item-icon",children:Object(O.jsx)("svg",{"aria-hidden":"false",width:"16",height:"16",viewBox:"0 0 24 24",children:Object(O.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.2929 9.8299L19.9409 9.18278C21.353 7.77064 21.353 5.47197 19.9409 4.05892C18.5287 2.64678 16.2292 2.64678 14.817 4.05892L14.1699 4.70694L19.2929 9.8299ZM12.8962 5.97688L5.18469 13.6906L10.3085 18.813L18.0201 11.0992L12.8962 5.97688ZM4.11851 20.9704L8.75906 19.8112L4.18692 15.239L3.02678 19.8796C2.95028 20.1856 3.04028 20.5105 3.26349 20.7337C3.48669 20.9569 3.8116 21.046 4.11851 20.9704Z",fill:"currentColor"})})})]}),Object(O.jsxs)("div",{className:"morebox__item",onClick:function(){u.e.collection("servers").doc(s).collection("channels").doc(a).collection("messages").doc(t.id).delete()},children:[Object(O.jsx)("div",{className:"morebox__item-deletelabel",children:"Delete Message"}),Object(O.jsx)("div",{className:"morebox_item-icon",children:Object(O.jsxs)("svg",{"aria-hidden":"false",width:"24",height:"24",viewBox:"0 0 24 24",children:[Object(O.jsx)("path",{fill:"currentColor",d:"M15 3.999V2H9V3.999H3V5.999H21V3.999H15Z"}),Object(O.jsx)("path",{fill:"currentColor",d:"M5 6.99902V18.999C5 20.101 5.897 20.999 7 20.999H17C18.103 20.999 19 20.101 19 18.999V6.99902H5ZM11 17H9V11H11V17ZM15 17H13V11H15V17Z"})]})})]})]})}),i&&Object(O.jsx)("div",{className:"morebox",children:Object(O.jsx)("div",{className:"morebox__container",children:Object(O.jsxs)("div",{className:"morebox__item",onClick:N,children:[Object(O.jsx)("div",{className:"morebox__item-label",children:"Reply Message"}),Object(O.jsx)("div",{className:"morebox_item-icon",children:Object(O.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",children:Object(O.jsx)("path",{d:"M10 8.26667V4L3 11.4667L10 18.9333V14.56C15 14.56 18.5 16.2667 21 20C20 14.6667 17 9.33333 10 8.26667Z",fill:"currentColor"})})})]})})})]})};c(207);var E=function(e){var t,c,a=e.msg,s=e.msgid,r=Object(d.c)((function(e){return e.doc.id})),n=Object(o.useState)(a),i=Object(j.a)(n,2),l=i[0],m=i[1],b=Object(d.c)((function(e){return e.currentserver.id})),h=Object(d.b)(),g=function(e){e&&e.preventDefault(),u.e.collection("servers").doc(b).collection("channels").doc(r).collection("messages").doc(s).update({message:l}),h(S())};t="Escape",c=function(){h(S())},Object(o.useEffect)((function(){function e(e){e.key===t&&c()}return window.addEventListener("keyup",e),function(){return window.removeEventListener("keyup",e)}}),[]);var v=l.split("\n").length;return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("form",{onSubmit:g,children:[Object(O.jsx)("div",{className:"chatedit",children:Object(O.jsx)("textarea",{type:"text",onKeyDown:function(e){"Enter"===e.key&&g()},autoFocus:!0,required:!0,rows:v,value:l,onChange:function(e){m(e.target.value)},style:{width:"100%"},className:"chatedit__inputarea"})}),Object(O.jsx)("div",{className:"editinstruction",children:Object(O.jsxs)("p",{className:"editinstruction__p",children:["escape to ",Object(O.jsx)("span",{className:"editinstruction__span",onClick:function(){return h(S())},children:"cancel"})," \u2022 enter to ",Object(O.jsx)("span",{className:"editinstruction__span",onClick:g,children:"save"})]})})]})})},D=c(209),H=c.n(D),B=(c(208),Object(N.a)((function(e){return{small:{width:e.spacing(2.2),height:e.spacing(2.2),marginRight:e.spacing(.5)}}})));var T=function(e){var t=e.msg,c=Object(d.c)((function(e){return e.currentrole.admin})),a=B();return Object(O.jsxs)("div",{className:"chatreply",children:[Object(O.jsx)("div",{className:"chatreply__photo",children:Object(O.jsx)(y.a,{className:a.small,src:t.reply.photo})}),Object(O.jsxs)("div",{className:"".concat(c&&c.admin===t.reply.sender&&"chatreply__sender-admin"," chatreply__sender"),children:["@",t.reply.sender]}),Object(O.jsx)("div",{className:"chatreply__message",children:t.reply.msg?t.reply.msg.slice(0,100)+"...":Object(O.jsx)(H.a,{})})]})},I=c(210),q=c.n(I);var P=function(e){var t=e.msg,c=Object(o.useState)(!1),a=Object(j.a)(c,2),s=a[0],r=a[1],n=Object(o.useState)(""),i=Object(j.a)(n,2),l=i[0],d=i[1];return Object(o.useEffect)((function(){return t&&fetch("https://www.youtube.com/oembed?url=".concat(t,"&maxwidth=400&maxheight=225&format=json")).then((function(e){if(e.ok)return e.json()})).then((function(e){return d(e)})),function(){}}),[t]),Object(O.jsx)(O.Fragment,{children:l&&Object(O.jsx)("div",{className:"rendervideo",children:Object(O.jsxs)("div",{className:"rendervideo__videocontainer",children:[Object(O.jsx)("a",{href:l.provider_url,target:"_blank",rel:"noreferrer",className:"rendervideo__videocontainer-providerlink",children:Object(O.jsx)("div",{className:"rendervideo__videocontainer-providername",children:"YouTube"})}),Object(O.jsx)("a",{href:l.author_url,target:"_blank",rel:"noreferrer",className:"rendervideo__videocontainer-authorurl",children:Object(O.jsx)("p",{className:"rendervideo__videocontainer-authorname",children:l.author_name})}),Object(O.jsx)("a",{href:t,target:"_blank",rel:"noreferrer",className:"rendervideo__videocontainer-title",children:Object(O.jsx)("div",{className:"rendervideo__videocontainer-titlename",children:l.title&&l.title.length<66?l.title:l.title.slice(0,66)+"..."})}),Object(O.jsx)("div",{className:"rendervideo__video",children:s?l&&Object(O.jsx)("iframe",{className:"rendervideo__videocontainer__video",src:l&&l.html.split('src="')[1].split('"')[0]+"&autoplay=1&amp;auto_play=1",width:"400",height:"225",title:"YouTube video player",frameBorder:"0",allowFullScreen:"",sandbox:"allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-presentation"}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"rendervideo__video-image",children:Object(O.jsx)("img",{src:l.thumbnail_url,alt:l.author_name})}),Object(O.jsxs)("div",{className:"rendervideo__video-container",children:[Object(O.jsx)("div",{className:"rendervideo__video-load",onClick:function(){return r(!s)},children:Object(O.jsx)("svg",{className:"iconPlay-2kgvwV icon-3ZFEtL","aria-hidden":"false",width:"16",height:"16",viewBox:"0 0 24 24",children:Object(O.jsx)("polygon",{fill:"currentColor",points:"0 0 0 14 11 7",transform:"translate(7 5)"})})}),Object(O.jsx)("a",{href:t,target:"_blank",rel:"noreferrer",className:"rendervideo__video-openurl",children:Object(O.jsx)("svg",{className:"iconExternalMargins-2v2mzg icon-3ZFEtL","aria-hidden":"false",width:"16",height:"16",viewBox:"0 0 24 24",children:Object(O.jsx)("path",{fill:"currentColor",transform:"translate(3.000000, 4.000000)",d:"M16 0H2a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h4v-2H2V4h14v10h-4v2h4c1.1 0 2-.9 2-2V2a2 2 0 0 0-2-2zM9 6l-4 4h3v6h2v-6h3L9 6z"})})})]})]})})]})})})};var Y=function(e){var t=e.msg;return Object(O.jsxs)("div",{className:"renderaudio",children:[Object(O.jsxs)("div",{className:"renderaudio__name",children:[" ",t&&t.audioname]}),Object(O.jsx)("div",{className:"renderaudio__mainplayer",children:Object(O.jsx)("div",{className:"renderaudio__player",children:Object(O.jsxs)("audio",{className:"renderaudio__player-music",controls:!0,src:t.audiourl,preload:"metadata",children:["Your browser does not support the",Object(O.jsx)("code",{children:"audio"})," element."]})})})]})},J=Object(N.a)((function(e){return{avatar:{width:e.spacing(4.5),height:e.spacing(4.5)}}})),W=function(e){var t=e.msg,c=Object(o.useState)(!1),a=Object(j.a)(c,2),s=a[0],r=a[1],n=t.message.replaceAll("\\n","\n"),i=J(),l=Object(d.c)((function(e){return e.msg.id})),m=Object(d.c)((function(e){return e.currentrole.admin})),u=Object(d.c)((function(e){return e.click.clicked})),b=n.match(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi);return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"".concat(t.reply&&"chatmessage__main--replied"," chatmessage__main ").concat(u&&l===t.id&&"chatmessage__main--edit"),children:Object(O.jsx)("div",{onMouseEnter:function(){return r(!0)},onMouseLeave:function(){return r(!1)},className:"chatmessage",children:Object(O.jsxs)("div",{className:"chatmessage",children:[Object(O.jsxs)("div",{className:"chatmessage__replycontent",children:[t.reply&&Object(O.jsx)("img",{className:"chatmessage__replycontent--replyimage",src:"/discord-clone/discord-reply.png",alt:"reply"}),Object(O.jsx)("div",{className:"chatmessage__replycontent--content",children:t.reply&&Object(O.jsx)(T,{msg:t})})]}),Object(O.jsxs)("div",{className:"chatmessage__header",children:[Object(O.jsx)("div",{className:"".concat(t.reply&&"chatmessage__header-photo--replied"," chatmessage__header-photo"),children:Object(O.jsx)(y.a,{className:i.avatar,src:"".concat(t&&t.senderphoto)})}),Object(O.jsxs)("div",{className:"chatmessage__content",children:[Object(O.jsxs)("div",{className:"chatmessage__content-header",children:[Object(O.jsx)("div",{className:"".concat(m&&m.admin===t.sendername&&"chatmessage__content-admin"," chatmessage__content-name"),children:"".concat(t&&t.sendername)}),Object(O.jsx)("div",{className:"chatmessage__content-date",children:"".concat(t.createdAt&&t.createdAt.toDate().getDate()+"/"+(t.createdAt.toDate().getMonth()+1)+"/"+t.createdAt.toDate().getFullYear())}),Object(O.jsx)("div",{className:"".concat(t.reply&&"chatmessage__content-menu--replied"," chatmessage__content-menu chatmessage__content-menu-normal"),children:s&&Object(O.jsx)(Z,{msg:t})})]}),Object(O.jsxs)("div",{className:"chatmessage__message",children:[Object(d.c)((function(e){return e.click.clicked}))&&t.id===l?Object(O.jsx)(E,{msg:n,msgid:t.id}):Object(O.jsx)(q.a,{componentDecorator:function(e,t,c){return Object(O.jsx)("a",{className:"".concat(b&&"linkify__videotext"," linkify__text"),href:e,target:"_blank",rel:"noreferrer",children:t},c)},children:t&&t.message?n:!t.base64&&Object(O.jsx)(Y,{msg:t})}),t.base64&&Object(O.jsx)("img",{src:t.base64,alt:"cannot decode"}),b&&b.length>1?b.map((function(e){return Object(O.jsx)(P,{msg:e},e)})):Object(O.jsx)(P,{msg:b})]})]})]})]})})})})},G=function(){var e=Object(d.c)((function(e){return e.doc.id})),t=Object(d.c)((function(e){return e.currentserver.id})),c=u.e.collection("servers").doc(t).collection("channels").doc(e).collection("messages").orderBy("createdAt"),a=Object(m.a)(c,{idField:"id"}),s=Object(j.a)(a,1)[0],r=Object(d.c)((function(e){return e.doc.name}));return Object(O.jsx)("div",{children:"roles"===r?Object(O.jsx)(L,{}):s&&s.map((function(e){return Object(O.jsx)(W,{msg:e},e.id)}))})},K=(c(218),c(246)),X=c.n(K),$=c(247),Q=c.n($),ee=c(248),te=c.n(ee),ce=c(249),ae=c.n(ce),se=c(180),re=c(264),ne=c(67),ie=c.n(ne),oe=function(){return{type:"Change_open"}},le=Object(N.a)({drop:{backgroundColor:"#2C2F33",color:"#e6e8e8"},icon:{color:"gray"}});var de=function(){var e=Object(d.c)((function(e){return e.doc.id})),t=Object(d.c)((function(e){return e.currentserver.id})),c=Object(d.c)((function(e){return e.replytoggle.clicked})),a=Object(d.c)((function(e){return e.reply})),s=le(),n=Object(d.b)(),o=function(e){return new Promise((function(t){ie.a.imageFileResizer(e,350,350,"JPEG",100,0,(function(e){t(e)}),"base64")}))},l=function(){var s=Object(r.a)(i.a.mark((function s(r){var l,d,j,m,b,h;return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!["audio/mpeg","audio/mp4","audio/ogg","audio/wav"].includes(r[0].type)){s.next=14;break}return l=r[0],console.log(l),s.prev=3,n(oe()),d=u.f.ref(),j=d.child(l.name),s.next=9,j.put(l).then((function(){j.getDownloadURL().then((function(s){console.log(s);var r=u.e.collection("servers").doc(t).collection("channels").doc(e).collection("messages");c?(n(R()),r.add({message:"",audioname:l.name,audiourl:s,audiosize:l.size,sendername:u.c.currentUser.displayName,senderemail:u.c.currentUser.email,senderuid:u.c.currentUser.uid,senderphoto:u.c.currentUser.photoURL,createdAt:_.a.firestore.FieldValue.serverTimestamp(),reply:a})):r.add({message:"",audioname:l.name,audiourl:s,audiosize:l.size,sendername:u.c.currentUser.displayName,senderemail:u.c.currentUser.email,senderuid:u.c.currentUser.uid,senderphoto:u.c.currentUser.photoURL,createdAt:_.a.firestore.FieldValue.serverTimestamp()})})),console.log("Uploaded a file")}));case 9:s.next=14;break;case 11:s.prev=11,s.t0=s.catch(3),console.log(s.t0);case 14:if(!["image/jpeg","image/png","image/bmp","image/x-icon"].includes(r[0].type)){s.next=36;break}return m=r[0],console.log(m),s.prev=17,n(oe()),s.next=21,o(m);case 21:if(b=s.sent,h=u.e.collection("servers").doc(t).collection("channels").doc(e).collection("messages"),!c){s.next=29;break}return n(R()),s.next=27,h.add({message:"",base64:b,sendername:u.c.currentUser.displayName,senderemail:u.c.currentUser.email,senderuid:u.c.currentUser.uid,senderphoto:u.c.currentUser.photoURL,createdAt:_.a.firestore.FieldValue.serverTimestamp(),reply:a});case 27:s.next=31;break;case 29:return s.next=31,h.add({message:"",base64:b,sendername:u.c.currentUser.displayName,senderemail:u.c.currentUser.email,senderuid:u.c.currentUser.uid,senderphoto:u.c.currentUser.photoURL,createdAt:_.a.firestore.FieldValue.serverTimestamp()});case 31:s.next=36;break;case 33:s.prev=33,s.t1=s.catch(17),console.log(s.t1);case 36:case"end":return s.stop()}}),s,null,[[3,11],[17,33]])})));return function(e){return s.apply(this,arguments)}}();return Object(O.jsx)("div",{children:Object(O.jsx)(re.a,{dropzoneClass:s.drop,classes:{icon:s.icon,image:s.imageContainer},showPreviews:!1,showPreviewsInDropzone:!1,maxFileSize:1e7,filesLimit:1,onAdd:l,onDrop:l})})},je=c(245),me=c.n(je),ue=Object(N.a)({button:{margin:0,padding:".1rem",color:"#b9bbbe"},icon:{width:"1.8rem"}});var be=function(){var e=ue(),t=Object(d.b)();return Object(O.jsx)("div",{children:Object(O.jsxs)("div",{className:"chatsearchbar__reply",children:[Object(O.jsxs)("div",{className:"chatsearchbar__reply-text",children:["Replying to ",Object(d.c)((function(e){return e.reply.sender}))]}),Object(O.jsx)("div",{className:"chatsearchnar__reply-close",children:Object(O.jsx)(se.a,{className:e.button,onClick:function(){t(R())},children:Object(O.jsx)(me.a,{fontSize:"large",className:e.icon})})})]})})},he=Object(N.a)((function(){return{button:{color:"#b8bbc0",padding:"0 .75rem"},addbutton:{backgroundColor:"#40454b",color:"#b8bbc0",padding:".9rem 1rem","&:hover":{backgroundColor:"#40454b"}}}}));var ge=function(){var e=Object(d.b)(),t=he(),c=Object(o.useState)(!1),a=Object(j.a)(c,2),s=a[0],n=a[1],l=Object(o.useState)(""),b=Object(j.a)(l,2),h=b[0],g=b[1],v=Object(d.c)((function(e){return e.currentserver.id})),p=Object(d.c)((function(e){return e.doc.id})),x=u.e.collection("servers").doc(v).collection("channels").doc(p).collection("messages"),f=Object(d.c)((function(e){return e.reply})),N=Object(d.c)((function(e){return e.replytoggle.clicked})),y=Object(d.c)((function(e){return e.doc.name})),k=x.orderBy("createdAt","desc").limit(1),w=Object(m.a)(k,{idField:"id"}),C=Object(j.a)(w,1)[0],L=function(){var t=Object(r.a)(i.a.mark((function t(c){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.preventDefault(),"roles"!==y){t.next=4;break}return g("Not authorized to send message here"),t.abrupt("return");case 4:if(N){t.next=15;break}if(!C.length||C[0].senderemail!==u.c.currentUser.email){t.next=11;break}return a=x.doc(C[0].id),t.next=9,a.update({message:C[0].message+"\\n"+h},{merge:!0});case 9:t.next=13;break;case 11:return t.next=13,x.add({message:h,sendername:u.c.currentUser.displayName,senderemail:u.c.currentUser.email,senderuid:u.c.currentUser.uid,senderphoto:u.c.currentUser.photoURL,createdAt:_.a.firestore.FieldValue.serverTimestamp()});case 13:t.next=18;break;case 15:return t.next=17,x.add({message:h,sendername:u.c.currentUser.displayName,senderemail:u.c.currentUser.email,senderuid:u.c.currentUser.uid,senderphoto:u.c.currentUser.photoURL,createdAt:_.a.firestore.FieldValue.serverTimestamp(),reply:f});case 17:e(R());case 18:g("");case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(O.jsxs)("div",{style:{position:"relative"},children:[Object(d.c)((function(e){return e.replytoggle.clicked}))&&Object(O.jsx)(be,{}),Object(O.jsxs)("div",{className:"chatsearchbar",children:[Object(O.jsx)("div",{className:"chatsearchbar__addicon",children:Object(O.jsx)(se.a,{className:t.addbutton,onClick:function(){e(oe())},"aria-label":"settings",children:Object(O.jsx)(X.a,{fontSize:"large"})})}),Object(O.jsx)("div",{className:"chatsearchbar__input",children:Object(O.jsx)("form",{onSubmit:L,children:Object(O.jsx)("input",{autoFocus:!0,id:"myTextField",value:h,required:!0,onChange:function(e){g(e.target.value)},className:"chatsearchbar__input-text",placeholder:"Message #".concat(Object(d.c)((function(e){return e.doc.name}))),type:"text"})})}),Object(O.jsx)("div",{className:"chatsearchbar__gifticon",children:Object(O.jsx)(se.a,{className:t.button,"aria-label":"settings",children:Object(O.jsx)(Q.a,{style:{fontSize:30}})})}),Object(O.jsx)("div",{className:"chatsearchbar__gifcon",children:Object(O.jsx)(se.a,{className:t.button,"aria-label":"settings",children:Object(O.jsx)(te.a,{style:{fontSize:30}})})}),Object(O.jsx)("div",{className:"chatsearchbar__emojiicon",children:Object(O.jsx)(se.a,{className:t.button,onClick:function(){n(!s)},"aria-label":"settings",children:Object(O.jsx)(ae.a,{style:{fontSize:30}})})})]}),s&&Object(O.jsx)("div",{className:"emojipicker",children:Object(O.jsx)(A,{})}),Object(d.c)((function(e){return e.open.open}))&&Object(O.jsx)("div",{className:"upload",children:Object(O.jsx)(de,{})})]})},Oe=c(109),ve=(c(196),c(15)),pe=function(e){var t=e.msg,c=Object(ve.g)(),a=Object(d.c)((function(e){return e.doc.id})),s=Object(d.c)((function(e){return e.currentserver.id}));return Object(O.jsx)("div",{children:Object(O.jsxs)("p",{onClick:function(){c.push("/discord-clone/channels/".concat(s,"/").concat(t.id))},className:"".concat(a===t.id&&"clicked"," sidebarchannel__content"),children:[Object(O.jsx)("span",{className:"sidebarchannel__hash",children:"#"}),t.channel]},t.id)})},xe=function(){var e=Object(d.c)((function(e){return e.currentserver.id})),t=u.e.collection("servers").doc(e).collection("channels"),c=Object(o.useState)([]),a=Object(j.a)(c,2),s=a[0],n=a[1];return Object(o.useEffect)((function(){var e=[],c=function(){var c=Object(r.a)(i.a.mark((function c(){return i.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,t.orderBy("createdAt").get().then((function(t){t.docs.map((function(t){var c=t.data();return c.id=t.id,e.push(c)}))}));case 2:n(e);case 3:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}();return c(),function(){}}),[e]),Object(O.jsx)("div",{children:Object(O.jsx)("div",{className:"sidebarchannel",children:s&&!!s.length&&s.map((function(e){return Object(O.jsx)(pe,{msg:e},e.id)}))})})},fe=c(251),_e=c.n(fe),Ne=c(253),ye=c.n(Ne),ke=c(254),we=c.n(ke),Ce=c(252),Le=c.n(Ce),Ue=c(187),Se=(c(250),Object(N.a)((function(){return{signal:{color:"#43b380"},end:{color:"#babbbf"},button:{fontSize:"14px",color:"#fff",backgroundColor:"#363940",padding:"5px 1.9rem",textTransform:"none"}}})));var Fe=function(){var e=Se();return Object(O.jsxs)("div",{className:"sidebarvoice",children:[Object(O.jsxs)("div",{className:"sidebarvoice__header",children:[Object(O.jsxs)("div",{className:"sidebarvoice__connect",children:[Object(O.jsx)("div",{className:"sidebarvoice__connect-icon",children:Object(O.jsx)(se.a,{className:e.signal,"aria-label":"settings",children:Object(O.jsx)(_e.a,{fontSize:"large"})})}),Object(O.jsx)("div",{className:"sidebarvoice__connect-connected",children:"Voice Connected"})]}),Object(O.jsx)("div",{className:"sidebarvoice__disconnect",children:Object(O.jsx)(se.a,{className:e.end,"aria-label":"settings",children:Object(O.jsx)(Le.a,{fontSize:"large"})})})]}),Object(O.jsxs)("div",{className:"sidebarvoice__stream",children:[Object(O.jsx)("div",{className:"sidebarvoice__stream-video",children:Object(O.jsx)(Ue.a,{variant:"text",className:e.button,startIcon:Object(O.jsx)(ye.a,{}),children:" Video "})}),Object(O.jsx)("div",{className:"sidebarvoice__stream-screen",children:Object(O.jsx)(Ue.a,{variant:"text",className:e.button,startIcon:Object(O.jsx)(we.a,{}),children:" Screen "})})]})]})},Re=c(274),Ve=c(11),ze=c(84),Me=c(259),Ae=c.n(Me),Ze=c(256),Ee=c.n(Ze),De=c(257),He=c.n(De),Be=c(258),Te=c.n(Be),Ie=(c(255),Object(Ve.a)((function(e){return{badge:{backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px ".concat(e.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"$ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}}))(Re.a)),qe=Object(N.a)((function(e){return{settings:{display:"flex",flexWrap:"wrap"},icon:{padding:".5rem",color:"#babbbf"},avatar:{width:"3.25rem",height:"3.25rem"}}}));function Pe(){var e=Object(ve.g)(),t=Object(ze.a)(u.c),c=Object(j.a)(t,1)[0],a=Object(o.useState)(!1),s=Object(j.a)(a,2),n=s[0],l=s[1],d=qe(),m=function(){var t=Object(r.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.c.signOut();case 2:e.push("/discord-clone");case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(O.jsx)("div",{children:Object(O.jsxs)("div",{className:"profile",children:[Object(O.jsxs)("div",{className:"profile__avatar",children:[Object(O.jsx)(Ie,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",children:Object(O.jsx)(y.a,{alt:"Remy Sharp",src:"".concat(c&&c.photoURL?c.photoURL:null),className:d.avatar})}),Object(O.jsxs)("div",{className:"profile__name",children:[Object(O.jsx)("div",{className:"profile__name-name",children:"".concat(c&&c.displayName?c.displayName:null)}),Object(O.jsxs)("div",{className:"profile__name-uid",children:["#",c&&c.uid.slice(0,6)]})]})]}),Object(O.jsxs)("div",{className:d.settings,children:[Object(O.jsx)(se.a,{className:d.icon,onClick:function(){return l(!n)},"aria-label":"settings",children:n?Object(O.jsx)(Ee.a,{fontSize:"large"}):Object(O.jsx)(He.a,{fontSize:"large"})}),Object(O.jsx)(se.a,{className:d.icon,"aria-label":"settings",children:Object(O.jsx)(Te.a,{fontSize:"large"})}),Object(O.jsx)(se.a,{className:d.icon,"aria-label":"settings",onClick:m,children:Object(O.jsx)(Ae.a,{fontSize:"large"})})]})]})})}c(260);var Ye,Je,We,Ge=Object(N.a)({avatar:{width:"3rem",height:"3rem"},profileavatar:{width:"8rem",height:"8rem"},outlined:function(e){return{color:e.map((function(e){return e.color}))}}}),Ke=g.a.p(Ye||(Ye=Object(h.a)(["\n    color:","\n"])),(function(e){return e.color})),Xe=g.a.svg(Je||(Je=Object(h.a)(["\n    display:'inline-block'\n"]))),$e=g.a.div(We||(We=Object(h.a)(["\n    border-color:","\n"])),(function(e){return e.color})),Qe=function(e){var t=e.user,c=e.color,a=Object(o.useState)(!1),s=Object(j.a)(a,2),r=s[0],n=s[1],i=Object(o.useState)(null),l=Object(j.a)(i,2),m=l[0],b=l[1],h=Object(o.useState)([]),g=Object(j.a)(h,2),v=g[0],p=g[1],x=u.e.collection("users"),f=Object(d.c)((function(e){return e.currentserver.id})),_=Ge(v);return Object(O.jsxs)("div",{onClick:function(e){x.get().then((function(e){return e.docs.forEach((function(e){if(e.data().userphoto===t.photoURL)for(var c=Object.keys(e.data().roles),a=function(){var t=r[s];if(f&&t===f){var c=Object.keys(e.data().roles[t]),a=[];c.map((function(c){a.push(e.data().roles[t][c])})),p(a)}},s=0,r=c;s<r.length;s++)a()}))})),n(!r),p([]),b(m?null:e.currentTarget)},onMouseLeave:function(){n(!1)},children:[r&&Object(O.jsxs)("div",{className:"roleprofile",children:[Object(O.jsxs)("div",{className:"roleprofile__header",children:[Object(O.jsx)("div",{className:"roleprofile__header-photo",children:Object(O.jsx)(y.a,{src:t.photoURL&&t.photoURL,className:_.profileavatar})}),Object(O.jsx)("div",{className:"roleprofile__header-username",children:t.username&&t.username}),Object(O.jsx)("div",{className:"roleprofile__header-status",children:"\ud83d\ude4c my website"})]}),Object(O.jsxs)("div",{className:"roleprofile__content",children:[Object(O.jsx)("div",{className:"roleprofile__content-heading",children:"ROLES"}),Object(O.jsx)("div",{className:"roleprofile__content-roles",children:v&&v.map((function(e,t){return Object(O.jsxs)($e,{className:"chip",color:e.color,children:[Object(O.jsx)("div",{className:"chip__avatar",children:Object(O.jsx)(Xe,{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:Object(O.jsx)("circle",{cx:"50",cy:"50",r:"50",fill:e.color})})}),Object(O.jsx)("div",{className:"chip__label",color:e.color,children:e.yourrole})]},t)}))})]})]}),Object(O.jsxs)("div",{className:"roles__box",children:[Object(O.jsx)("div",{className:"roles__box-avatar",children:Object(O.jsx)(y.a,{className:_.avatar,src:t.photoURL&&t.photoURL})}),Object(O.jsxs)("div",{className:"roles__content",children:[Object(O.jsx)("div",{className:"roles__content-name",children:Object(O.jsx)(Ke,{color:c,className:"roles__content--squad",children:t.username&&t.username})}),Object(O.jsx)("div",{className:"roles__content-status",children:t.status&&t.status})]})]})]})},et=function(e){var t=e.myrole,c=e.color,a=e.rolemap.doc(t.id).collection("allusers"),s=Object(m.a)(a,{idField:"id"}),r=Object(j.a)(s,1)[0];return Object(O.jsx)("div",{className:"myroles",children:Object(O.jsx)("div",{className:"myroles__user",children:r&&r.map((function(e){return Object(O.jsx)(Qe,{user:e,color:c},e.id)}))})})},tt=function(e){var t=e.role,c=Object(d.c)((function(e){return e.currentserver.id})),a=u.e.collection("servers").doc(c).collection("allroles").doc(t.id).collection("allroles"),s=Object(m.a)(a,{idField:"id"}),r=Object(j.a)(s,1)[0];return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"rolescategory",children:[Object(O.jsx)("div",{className:"roles__heading",children:Object(O.jsxs)("h2",{className:"roles__heading-h2",children:[t&&t.rolename," \u2014  ",r&&r.length]})}),r&&r.map((function(e){return Object(O.jsx)(et,{myrole:e,rolemap:a,color:e&&e.color},e.id)}))]})})},ct=Object(N.a)({avatar:{width:"3rem",height:"3rem"}});var at=function(){var e=ct(),t=Object(d.c)((function(e){return e.currentserver.id})),c=u.e.collection("servers").doc(t),a=Object(m.b)(c),s=Object(j.a)(a,1)[0],r=c.collection("allroles").orderBy("createdAt"),n=Object(m.a)(r,{idField:"id"}),i=Object(j.a)(n,1)[0];return Object(O.jsxs)("div",{className:"roles",children:[Object(O.jsx)("div",{className:"roles__heading",children:Object(O.jsx)("h2",{className:"roles__heading-h2",children:"Administrator  \u2014  1"})}),Object(O.jsxs)("div",{className:"roles__box",children:[Object(O.jsx)("div",{className:"roles__box-avatar",children:Object(O.jsx)(y.a,{className:e.avatar,src:s&&s.userimage&&s.userimage})}),Object(O.jsxs)("div",{className:"roles__content",children:[Object(O.jsx)("div",{className:"roles__content-name",children:Object(O.jsx)("p",{className:"roles__content--admin",children:s&&s.admin&&s.admin})}),Object(O.jsx)("div",{className:"roles__content-status",children:"Visual Studio Code"})]})]}),i&&i.map((function(e){return Object(O.jsx)(tt,{role:e},e.id)}))]})},st=(c(261),c(193)),rt=c(185),nt=c(183),it=c(184),ot=c(145),lt=(c(262),Object(N.a)((function(e){return{button:{padding:e.spacing(1),color:"#fff"},typo:{color:"#fcfdfe",textTransform:"uppercase"},dialog:{backgroundColor:"#363940"},dialogaction:{backgroundColor:"#363940",padding:"4% 6.5%"},paper:{minWidth:"25%"}}})));function dt(){var e=lt(),t=l.a.useState(!1),c=Object(j.a)(t,2),a=c[0],s=c[1],n=Object(o.useState)(""),m=Object(j.a)(n,2),b=m[0],h=m[1],g=function(){s(!1)},v=function(){var e=Object(r.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,x.add({channel:b,createdAt:_.a.firestore.FieldValue.serverTimestamp(),email:u.c.currentUser.email}).then((function(){console.log("Document Added")})).catch((function(e){console.log(e)}));case 3:h("");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=Object(d.c)((function(e){return e.currentserver.id})),x=u.e.collection("servers").doc(p).collection("channels");return Object(O.jsxs)("div",{children:[Object(O.jsx)("svg",{onClick:function(){s(!0)},style:{cursor:"pointer"},"aria-hidden":"false",width:"18",height:"18",viewBox:"0 0 18 18",children:Object(O.jsx)("polygon",{fillRule:"nonzero",fill:"currentColor",points:"15 10 10 10 10 15 8 15 8 10 3 10 3 8 8 8 8 3 10 3 10 8 15 8"})}),Object(O.jsxs)(st.a,{open:a,onClose:g,"aria-labelledby":"form-dialog-title",classes:{paper:e.paper},children:[Object(O.jsxs)(nt.a,{className:e.dialog,children:[Object(O.jsx)(it.a,{children:Object(O.jsx)(ot.a,{variant:"h5",className:e.typo,children:"Channel name"})}),Object(O.jsx)("input",{type:"text",required:!0,className:"input",autoFocus:!0,placeholder:"Type channel name",onChange:function(e){return h(e.target.value)},value:b})]}),Object(O.jsx)(rt.a,{className:e.dialogaction,children:Object(O.jsx)("form",{onSubmit:v,className:"form",children:Object(O.jsx)("button",{type:"submit",onClick:g,className:"form__button",children:"Add"})})})]})]})}t.default=function(e){var t=e.match,c=Object(d.b)();return Object(o.useEffect)((function(){var e=function(){var e=Object(r.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.e.collection("servers").doc(t.params.serverId).collection("channels").doc(t.params.channelId),e.next=3,a.get().then((function(e){c(Object(Oe.a)({id:t.params.channelId,name:e.data().channel}))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return e(),function(){}}),[c,t.params.channelId]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"main__sidebar",children:[Object(O.jsxs)("div",{className:"main__channels",children:[Object(O.jsxs)("div",{className:"main__channels-header",children:[Object(O.jsx)("img",{className:"main__channels-expand",src:"/discord-clone/expand.svg",alt:""}),Object(O.jsx)("div",{className:"main__channels-text",children:"TEXT CHANNELS"}),Object(O.jsx)("div",{className:"main__channels-addicon",children:Object(O.jsx)(dt,{})})]}),Object(O.jsx)("div",{className:"main__channels-list",children:Object(O.jsx)(xe,{})})]}),Object(O.jsx)("div",{className:"main__voice",children:Object(O.jsx)(Fe,{})}),Object(O.jsx)("div",{className:"main__avatar",children:Object(O.jsx)(Pe,{})})]}),Object(O.jsxs)("div",{className:"chat",children:[Object(O.jsx)("div",{className:"chat__message",children:Object(O.jsx)(G,{})}),Object(O.jsx)("div",{className:"chat__searchbar",children:Object(O.jsx)(ge,{})})]}),Object(O.jsx)("div",{className:"main__roles",children:Object(O.jsx)(at,{})})]})}}}]);
//# sourceMappingURL=4.0ad3055f.chunk.js.map